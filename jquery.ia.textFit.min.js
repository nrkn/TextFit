(function(a){a.fn.textFit=function(d){var b={shrink:true,enlarge:true,wordSpacing:true,letterSpacing:true,padding:true,normalizeLineHeight:false,normalizeModifier:1.5,normalizeAscentToCap:28.258,normalizeBaseToDescent:22.941,lineSpacing:0.25};if(d){a.extend(b,d)}this.each(function(){var m=a(this);var j=m.parent().width();var p=m.text().trim();m.css({display:"inline-block",fontSize:"100%",whiteSpace:"nowrap",margin:0,padding:0});var s=(j/m.outerWidth(true))*100;m.css({fontSize:s+"%"});var l=10;if(b.shrink){for(var n=0;n<l;n++){if(m.outerWidth(true)<=j){break}s*=(j/m.outerWidth(true));m.css({fontSize:s+"%"})}}if(b.enlarge){l=20;var k=s;for(var n=0;n<l;n++){s+=0.5;m.css({fontSize:s+"%"});if(m.outerWidth(true)>j){break}k=s}s=k;m.css({fontSize:s+"%"})}if(b.wordSpacing){var r=j-m.outerWidth(true);if(r>0&&p.indexOf(" ")!=-1){var o=p.match(/\s+/g).length;var h=Math.floor(r/o);if(h>0){m.css({wordSpacing:h+"px"})}}}if(b.letterSpacing){r=j-m.outerWidth(true);if(r>0){var q=Math.floor(r/(p.length));if(q>0){m.css({letterSpacing:q+"px"})}}}if(b.padding){r=j-m.outerWidth(true);if(r>0){var g=Math.floor(r/2)+(r%2);m.css({paddingLeft:g+"px"})}}});if(b.normalizeLineHeight){var f=b.normalizeAscentToCap/b.normalizeModifier;var e=b.normalizeBaseToDescent/b.normalizeModifier;var c;this.each(function(){var m=a(this);var k=m.index();var g=m.height();var n=(g*f)/100;var i=(g*e)/100;var h=g-Math.floor(n+i);var l="textfit-inner-"+k;m.css({height:h+"px"});if(k==0){var j="textFitFindParentTextSize";m.parent().append('<div id="'+j+'" style="width: 1px; height: '+b.lineSpacing+'em;" />');c=a("#"+j).height();a("#"+j).hide()}else{m.css({marginTop:c+"px"})}m.wrapInner('<span class="'+l+'" />');a("."+l).css({display:"block",position:"relative",top:-n+"px",margin:0,padding:0})})}return this}})(jQuery);